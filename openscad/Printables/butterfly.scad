
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;


module left_wing(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    linear_extrude(height=h)
       polygon([[-75.924619,4.654640],[-74.281184,3.581609],[-72.633098,2.119772],[-70.795172,-0.066101],[-69.038213,-3.056376],[-67.633024,-6.931419],[-66.850411,-11.771595],[-66.961179,-17.657270],[-59.144997,-29.313343],[-49.123829,-43.752325],[-43.490579,-51.073966],[-37.551128,-57.961604],[-31.387157,-64.038665],[-25.080349,-68.928570],[-7.050210,-80.686385],[2.197141,-86.211637],[11.750016,-91.205360],[21.721417,-95.445734],[26.899379,-97.214096],[32.224347,-98.710940],[37.710448,-99.908536],[43.371808,-100.779158],[49.222550,-101.295079],[55.276801,-101.428570],[65.815305,-100.865653],[73.156265,-99.603795],[75.800308,-98.785314],[77.852136,-97.881559],[79.380806,-96.922348],[80.455374,-95.937502],[81.518433,-94.010187],[81.593769,-92.338173],[80.991091,-90.714290],[79.640644,-85.904022],[75.544661,-73.125005],[72.446167,-64.521489],[68.636178,-54.854915],[64.106323,-44.434992],[58.848231,-33.571430],[48.161848,-13.225450],[43.197423,-4.504746],[38.446447,3.035711],[33.879623,9.236883],[29.467654,13.939729],[27.310584,15.679579],[25.181242,16.985208],[23.075965,17.836735],[20.991091,18.214280],[15.878786,17.897596],[9.289080,16.618301],[1.887432,14.686103],[-5.660700,12.410714],[-18.534587,8.069197],[-24.008919,6.071430],[-14.039990,16.566271],[-8.191460,23.386213],[-2.640245,30.718892],[1.958637,38.162603],[3.696259,41.800561],[4.950166,45.315638],[5.638480,48.657618],[5.679324,51.776289],[4.990820,54.621437],[3.491091,57.142850],[0.276873,61.779152],[-5.045893,68.170309],[-11.996923,75.567381],[-20.095932,83.221429],[-28.862636,90.383511],[-33.346285,93.546022],[-37.816750,96.304689],[-42.213997,98.565895],[-46.477989,100.236022],[-50.548692,101.221453],[-54.366069,101.428570],[-56.646583,95.775887],[-58.346840,89.874323],[-59.603619,83.898796],[-60.553699,78.024224],[-62.080877,67.277613],[-62.931534,62.755409],[-64.022609,59.033830],[-64.541136,56.596063],[-64.797183,53.297253],[-65.051886,49.420637],[-65.566379,45.249450],[-66.601795,41.066929],[-68.419269,37.156309],[-69.702882,35.391474],[-71.279936,33.800828],[-73.183070,32.419775],[-75.444929,31.283720],[-81.582169,30.761380],[-81.593769,5.311110]]);
  }
}


module right_wing(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
      linear_extrude(height=h)
      polygon([[73.671904,-14.285720],[69.447573,-20.613845],[64.612891,-27.431646],[58.359403,-35.714290],[50.984263,-44.733541],[42.784625,-53.761163],[34.057644,-62.068918],[29.589261,-65.725272],[25.100474,-68.928570],[7.070340,-80.686390],[-2.177009,-86.211642],[-11.729882,-91.205364],[-21.701283,-95.445737],[-26.879244,-97.214099],[-32.204212,-98.710941],[-37.690314,-99.908537],[-43.351673,-100.779159],[-49.202415,-101.295079],[-55.256666,-101.428570],[-65.795170,-100.865655],[-73.136130,-99.603800],[-75.780173,-98.785319],[-77.832001,-97.881563],[-79.360671,-96.922352],[-80.435239,-95.937506],[-81.498298,-94.010190],[-81.573634,-92.338175],[-80.970956,-90.714290],[-79.620509,-85.904024],[-75.524526,-73.125009],[-72.426032,-64.521494],[-68.616043,-54.854919],[-64.086188,-44.434995],[-58.828096,-33.571430],[-48.141713,-13.225450],[-43.177288,-4.504746],[-38.426312,3.035711],[-33.859488,9.236883],[-29.447519,13.939729],[-27.290449,15.679579],[-25.161107,16.985208],[-23.055830,17.836735],[-20.970956,18.214280],[-15.858651,17.897596],[-9.268947,16.618301],[-1.867300,14.686103],[5.680830,12.410714],[18.554714,8.069197],[24.029044,6.071430],[14.060121,16.566267],[8.211593,23.386208],[2.660379,30.718888],[-1.938502,38.162598],[-3.676125,41.800556],[-4.930031,45.315632],[-5.618345,48.657612],[-5.659189,51.776282],[-4.970685,54.621429],[-3.470956,57.142840],[-0.256739,61.779142],[5.066026,68.170299],[12.017055,75.567372],[20.116063,83.221420],[28.882765,90.383504],[33.366412,93.546015],[37.836877,96.304683],[42.234123,98.565890],[46.498115,100.236019],[50.568817,101.221451],[54.386194,101.428570],[61.996731,84.626491],[67.990335,70.129999],[73.697284,55.274840],[80.912044,55.212440],[81.093134,43.949440],[73.414314,43.444960],[71.839431,41.602419],[70.463356,39.283174],[69.288679,36.554319],[68.317989,33.482947],[66.998922,26.581026],[66.526868,19.114160],[66.922536,11.619096],[68.206640,4.632581],[69.188326,1.497763],[70.399888,-1.308637],[71.843914,-3.719526],[73.522994,-5.667810],[81.573634,-5.739110],[81.428334,-14.145010]]);
  
  }
}


module inner_hinge() {
  translate([0,-7.5,0]) rotate([90,0,0]) cylinder(h=2, r1=2, f2=1, $fn=20);
  translate([0,-.25,0]) rotate([90,0,0]) cylinder(h=7.5,r1=3,r2=3, $fn=20); 
  translate([0,-.25,0]) rotate([-90,0,0]) cylinder(h=2, r1=2, f2=1, $fn=20);
  scale([4, 1, 1]) translate([0,-4,-3.3]) cylinder(h=.6, r1=2, r2=2, $fn=50);
}

module outer_hinge() {
  difference() {
    union() {
	  translate([0,7,0]) rotate([90,0,0]) cylinder(h=20,r1=3,r2=3, $fn=20);        
        translate([.7,2.5,0]) cube([2,4,10]);
        translate([.7,-11,0]) cube([2,4,10]);
     }
	  translate([0,4.5,0]) rotate([90,0,0]) cylinder(h=13,r1=2.25,r2=2.25, $fn=20);
	  translate([0,2.25,0]) rotate([90,0,0]) cylinder(h=8.5,r1=3.1,r2=3.1, $fn=20);
  }
  scale([4, 1, 1])  translate([0,-10.5,-3.3]) cylinder(h=.6, r1=2, r2=2, $fn=50);
  scale([5, 1, 1]) translate([0,5.2,-3.3]) cylinder(h=.6, r1=1.5, r2=1.5, $fn=50);
}


module butterfly(h)
{

  translate([-1,3,24]) rotate([0,-90,0]) left_wing(h);
  translate([.75,3,24]) rotate([0,90,0]) right_wing(h);
  
	translate([0,2,0]) inner_hinge();
	outer_hinge();

}

butterfly(1.5);
//outer_hinge();
/*
translate([0,50,0]) butterfly(2);
translate([-25,0,0]) butterfly(2);
translate([-25,50,0]) butterfly(2);
translate([-50,0,0]) butterfly(2);
translate([-50,50,0]) butterfly(2);
translate([-75,0,0]) butterfly(2);
translate([-75,50,0]) butterfly(2);
translate([25,0,0]) butterfly(2);
translate([25,50,0]) butterfly(2);
translate([50,0,0]) butterfly(2);
translate([50,50,0]) butterfly(2);
translate([75,0,0]) butterfly(2);
translate([75,50,0]) butterfly(2);
*/
